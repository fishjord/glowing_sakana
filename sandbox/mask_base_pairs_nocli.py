#!/usr/bin/python

ss = "::::::::<<<<<_______>>>>>,{{{{-{{{{{{,{{{{{{{{{----{{{-{{{,,<<<--<<<>>>>>>,,,,,,[[[,,,,,,((((((((--((---(((((((,<<<<----<<<<<<<____>>>>>>>----->>>>,,,,,<<<<<<<<<<____>>>>>>>>>>,,,,<<>>,)))))))--))))))))))<<<--<-<<<--<<<<<<<<_______>>>>>>>>>>>----->>>>,,<<<<<<<<____>>>>--->>>>]]],<<<<<<__________>>>>>>,<<<<____>>>>,,,}}}}}}-},,,,,<-<<<--<<<<<<____>>>>>>>>>>,}}-}}}}}},,<<<<------<<<<____>>>>----->>>>,<--<<<<<<---<____>---->>>>>>-->,,,<<<<<------<<<<<-----<<____>>------->>>>>>>>>>,}}}}}}}}..}},,,,,,,,,,{{{-----{,[[[[..-[.-..[..[.[..,<<.<.<.<..<.<.-..<<.<<.<.<.<<.<.<.<..---.-.<.<.<.<.<.<<._._._..__.>.>.>.>.>..>.>.-.-.>.>.>..>>.>.>.>..>..--..>.>.>.>.>.>.>.>.>.,.,.,.(.(.(.(..(.(.(.(.(..-.-.(.(.(..(..(.(.(.....<<..--.<<<.<.<.<.<.<.--..-<<<.._._..____....>.>>.---.-.-.-.>..>..>.>.>.>.>...>.-.-.>.>.,..,,,..<...-...-.<<._..__._.>>.>..)..)..).).).).)..-....................)).)..).)..-....................)..).).),.,,.]].].].--..].].].]..,.,.,,.<..<..<..<..<<..-.-.-..<.<...-.-.-..<<<<_________>>>>--->>>>>>>>,,,,,,,,,,((((((,,<<<<<<<<<<>>>>>>>>>>,,,<<____>>,,,,,))))))}}}},<<<------<<<<____>>>>---->>>,,,,,,,,{{{{{-{{{{{{{-{{,,{{{{{{{{{{{{{{{{{,,,,<<<<________>>>>,,,,,,,,{{{{{{{,,,,,<<<<<<<<--<<<<<<<____>>>>>>>>>>>>->>>,[[-[[[[--[[[[[[[[[,,,((((((<<<____>>>,,<<<<______>>>>,,)))))),,,,,((((,<<<<<<<---<<--<<>>>>---->>>>>>>,,<<<<<<<<_____>>>>>>>>,,,,,)))),,,,]]]]-]]]---]]]]]]]],,,,}}}}}}},,,}}-}}}}}}}}}},,,<<<<<<<-----<<<--<<---<<<____>>>--->>---->>>----->>>>>>>,,,,,,<---<<<<<<<<________>>>>>>>>--->,,,,,}}}}},,,,,<<<<<<<<_______>>>>>>>>,,,,,,}}---}}}}}}}}}}-}},,<-<<-<<-<-<<<<<<<<--<<<<<<<<<<<<----<<<<<<>>>>>>--->>>>>>>>>>>>-->>>>>>>>-->->>-->>-->,<<<<<<<<<<____>>>>>>>>>>:::::::::::::"
pair_chars = ["<", "{", "[", "(", ")", "]", "}", ">"]

lhs_pairs = []# [527, 700, 528, 584, 580, 533, 585, 644, 596]
rhs_pairs = []#[555, 726, 554, 665, 670, 551, 664, 655, 638]

model_pos = -1

result_ss = []
for i in ss:
	result_ss.append(i)

#masked_positions = [153, 154, 155, 156, 157, 158, 159, 170, 171, 172, 173, 174, 175, 176]
masked_positions = [153, 154, 155, 156, 157, 158, 159, 170, 171, 172, 173, 174, 175, 176]

for masked_pos in masked_positions:
	result_ss[masked_pos - 1] = "."

for i in range(len(ss)):
	if result_ss[i] != '.':
		model_pos += 1

	if result_ss[i] != '.':
		if model_pos in lhs_pairs:
			print "Masking lhs %s [%s, %s]" % (result_ss[i], model_pos, i)
			result_ss[i] = "."
		if model_pos in rhs_pairs:
			print "Masking rhs %s [%s, %s]" % (result_ss[i], model_pos, i)
			result_ss[i] = "."

#	if result_ss[i] not in pair_chars:
#		result_ss[i] = "."

print "".join(result_ss)
